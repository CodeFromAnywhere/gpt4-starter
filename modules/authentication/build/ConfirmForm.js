"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign.apply(this,arguments)},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConfirmForm=void 0;var jsx_runtime_1=require("react/jsx-runtime"),signup_confirm_with_context_json_1=__importDefault(require("server-login/db/ts-functions/signup-confirm-with-context.json")),login_confirm_with_context_json_1=__importDefault(require("server-login/db/ts-functions/login-confirm-with-context.json")),function_form_1=require("function-form"),router_1=require("next/router"),react_with_native_1=require("react-with-native"),api_1=require("api"),cool_toast_1=require("cool-toast"),js_util_1=require("js-util"),fancy_loader_1=require("fancy-loader"),ConfirmForm=function(t){var e=t.isSignup,i=(0,router_1.useRouter)(),r=(0,js_util_1.takeFirst)(i.query.otp),n=(0,js_util_1.takeFirst)(i.query.emailOrPhone),s=api_1.queries.useGetMeWithContext();return(0,jsx_runtime_1.jsx)(react_with_native_1.Div,__assign({className:"flex flex-1 flex-row mx-10"},{children:(0,jsx_runtime_1.jsxs)(react_with_native_1.Div,__assign({className:"flex flex-1 flex-col"},{children:[(0,jsx_runtime_1.jsx)(react_with_native_1.P,__assign({className:"text-4xl"},{children:"Confirmation Code"})),i.isReady?e?(0,jsx_runtime_1.jsx)(function_form_1.FunctionForm,{tsFunction:signup_confirm_with_context_json_1.default,initialValues:[n,r],withApiResult:function(t){var e;t.isSuccessful&&(null===(e=t.result)||void 0===e?void 0:e.isSuccessful)&&i.push("/"),s.refetch(),(0,cool_toast_1.showStandardResponse)(t)}}):(0,jsx_runtime_1.jsx)(function_form_1.FunctionForm,{tsFunction:login_confirm_with_context_json_1.default,initialValues:[n,r],withApiResult:function(t){var e;t.isSuccessful&&(null===(e=t.result)||void 0===e?void 0:e.isSuccessful)&&i.push("/"),s.refetch(),(0,cool_toast_1.showStandardResponse)(t)}}):(0,jsx_runtime_1.jsx)(fancy_loader_1.FancyLoader,{})]}))}))};exports.ConfirmForm=ConfirmForm;
//# sourceMappingURL=ConfirmForm.js.map